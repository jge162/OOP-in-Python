name: Pull Request on Branch Push

on:
  push:
    branches-ignore:
    - devel

jobs:
  auto-pull-request:
    name: PullRequestAction
    runs-on: ubuntu-latest
    steps:
    - name: Checkout Code
      uses: actions/checkout@v2
    - name: Create Pull Request
      uses: peter-evans/create-pull-request@v2
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        COMMIT_MESSAGE: "Automated Pull Request"
        BRANCH_NAME: "update/branch-${{ env.TIMESTAMP }}"
        BASE: master
        HEAD: "${{ env.BRANCH_NAME }}"
        LABELS: "auto-generated"
